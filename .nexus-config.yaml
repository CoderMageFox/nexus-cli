# ═══════════════════════════════════════════════════════════════════════════════
# Nexus CLI Configuration File
# ═══════════════════════════════════════════════════════════════════════════════
# Generated by install-nexus-skill.sh on 2026-02-01 18:18:08
# Version: 1.0.0
# ═══════════════════════════════════════════════════════════════════════════════

version: "1.0.0"

# Language setting: auto, zh-CN, en-US
language: zh-CN

# Spec and checkpoint directories (relative to project root)
spec_dir: ".nexus-temp/specs"
checkpoint_dir: ".nexus-temp/checkpoints"

# ─────────────────────────────────────────────────────────────────────────────
# Executor Routing Configuration
# ─────────────────────────────────────────────────────────────────────────────
routing:
  default_executor: claude

  rules:
    # Frontend - Gemini excels at UI components
    - pattern: "**/components/**"
      executor: gemini
      priority: 10
      description: "React/Vue components"

    - pattern: "*.tsx"
      executor: gemini
      priority: 5
      description: "TypeScript React files"

    - pattern: "*.vue"
      executor: gemini
      priority: 5
      description: "Vue single-file components"

    - pattern: "**/ui/**"
      executor: gemini
      priority: 8
      description: "UI related files"

    # Backend - Codex excels at APIs and databases
    - pattern: "**/api/**"
      executor: codex
      priority: 10
      description: "API endpoints"

    - pattern: "**/models/**"
      executor: codex
      priority: 8
      description: "Data models"

    - pattern: "**/services/**"
      executor: codex
      priority: 8
      description: "Service layer"

    - pattern: "**/db/**"
      executor: codex
      priority: 10
      description: "Database related"

    - pattern: "*.sql"
      executor: codex
      priority: 10
      description: "SQL files"

    # Architecture - Claude excels at complex reasoning
    - pattern: "**/architecture/**"
      executor: claude
      priority: 15
      description: "Architecture documents"

  executors:
    claude:
      enabled: true
      timeout_minutes: 15
      max_retries: 2

    opencode:
      enabled: true
      timeout_minutes: 15
      max_retries: 2

    gemini:
      enabled: true
      timeout_minutes: 10
      max_retries: 3
      role: default

    codex:
      enabled: true
      timeout_minutes: 10
      max_retries: 3
      role: default

# ─────────────────────────────────────────────────────────────────────────────
# Execution Configuration
# ─────────────────────────────────────────────────────────────────────────────
execution:
  max_parallel_tasks: 5
  task_timeout_minutes: 10
  batch_timeout_minutes: 30
  error_strategy: skip
  max_retries: 3
  retry_delay_seconds: 5

# ─────────────────────────────────────────────────────────────────────────────
# Logging Configuration
# ─────────────────────────────────────────────────────────────────────────────
logging:
  enabled: false
  level: info
  log_to_file: true
  log_dir: ".nexus-temp/logs"
  max_log_files: 10
  max_log_size_mb: 10

# ─────────────────────────────────────────────────────────────────────────────
# Progress Display Configuration
# ─────────────────────────────────────────────────────────────────────────────
progress:
  show_task_progress: true
  show_batch_progress: true
  show_time_estimates: true
  show_executor_stats: true
  update_interval_seconds: 1.0

# ─────────────────────────────────────────────────────────────────────────────
# Feature Flags
# ─────────────────────────────────────────────────────────────────────────────
skip_code_review: false
skip_documentation: true
auto_checkpoint: true

# ─────────────────────────────────────────────────────────────────────────────
# Quality Gates Configuration
# ─────────────────────────────────────────────────────────────────────────────
quality_gates:
  enabled: true
  policy: on_complete
  ask_before_run: false

  gates:
    build:
      enabled: false
      required: true

    lint:
      enabled: false
      required: false

    typecheck:
      enabled: false
      required: true

    test:
      enabled: true
      required: false

    review:
      enabled: true
      required: false
      focus:
        - security
        - performance
        - quality
      thinking_mode: medium

  gate_timeout_seconds: 300
  continue_on_optional_failure: true
  log_gate_results: true

